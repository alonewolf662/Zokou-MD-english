const a64_0x82bfcd=a64_0x1d50;function a64_0x1c3c(){const _0x299960=['mJq5nda0nhrHv3fdBq','rxjYB3iGz2v0DgLUzYbHy3rPB24GzM9YigPPzca','txjmqNe','ywn0Aw9U','u1rbvevt','rLPpv1m','mZbYDKL6vLy','n0D2r0zpAW','DfjVzvC','C2v0','cIaGicaGicaGq1jfqvrfifrbqKXfieLgie5pvcbfweLtvfmG','igfJDgLVBI8','rxjYB3iGC2v0DgLUzYa','DMfSDwvZ','zw5HyMXLza','qwnYu3G','igLZigfSCMvHzhKGzgLZywjSzwq','mtHIs1nkrKO','mtjIEffSEem','nJaXnJD6EwvjANC','zxjYB3i','igLZig5VDcb2ywXPzc4GvMfSAwqGywn0Aw9UCYbHCMu6ia','qw4GzxjYB3iGB2nJDxjYzwqSihbSzwfZzsbSzxqGDxmGA25VDYbVBIb0AguGzM9YDw0GAwyGCgvYC2LZDgvUDa','oIb0BYbKAxnHyMXLigL0cG','yxbWBhK','z2v0qwn0Aw9UrM9YsMLK','yKfVCvi','C3bSAxq','mJuZntiWnvbzzxPgqG','D2fYBG','vfzytvi','odi2odu5yNzhwerO','igLZig5VDYa','igLZig5VDYbKAxnHyMXLza','ELPXsuC','icGkicaGicaGicaGigPPzcburvHuifbssu1buLKGs0vzlaOGicaGicaGicaGzxrHDcburvHuie5pvcbovuXmierfrKfvtfqGiG','zgLZywjSzwq','u0vmrunuigfJDgLVBIbguK9nia','iIWkicaGicaGicaGigfJDgLVBIburvHuie5pvcbovuXmierfrKfvtfqGiG','otaZmZaYmxDNugjxwG','ChjLCgfYzq','cIaGicaGicaGsu5trvjuieLove8G','Aw5JBhvKzxm','igzVCIbQAwqG','vfHuwNK','CMvTB3zL','CNvU','kcGOlISPkYKRksSK','qunusu9ouW','DhjPBq','C3D2C0W','rKLhBw8','oIb0BYbLBMfIBguGAxqk','vgHLigfJDgLVBIbMB3iG','zw5HyMXLzezVCKPPza','mJy2ndmXnu5vALrsEq','AM9PBG','Dg9tDhjPBMC','z2v0','thLfvKy','rg5QCva','cIaGicaGicaGicbjtLnfuLqGsu5utYa','Dhnfwhm','C3rHCNrZv2L0Aa','zxrHDa','ifDirvjfigPPzca9id87','z2vUzxjHDgvdBwq','ihDPDgGGywn0Aw9Uia','ww91igrVig5VDcbOyxzLihrOzsbUzwnLC3nHCNKGCgvYBwLZC2LVBNm','oda1mJq4ogjKwKfKyq','rxjYB3iGy2HLy2TPBMCGzw5HyMXLzcbZDgf0zsbMB3iGAMLKia','vgHLigfJDgLVBIa','B2zM','lI4VEM9RB3u','zxHWB3j0CW','u0vmrunuigv0yxqGrLjptsa','zgvSzxrL','sxD2CxG','AuH2wwm','r0TxANi','C2vHCMnO'];a64_0x1c3c=function(){return _0x299960;};return a64_0x1c3c();}(function(_0xf78605,_0x27bce2){const _0xaf979a=a64_0x1d50,_0x5eaf04=_0xf78605();while(!![]){try{const _0x14eeff=-parseInt(_0xaf979a(0x1d8))/0x1*(parseInt(_0xaf979a(0x1d6))/0x2)+parseInt(_0xaf979a(0x1fc))/0x3+-parseInt(_0xaf979a(0x1c5))/0x4+-parseInt(_0xaf979a(0x1e1))/0x5*(-parseInt(_0xaf979a(0x1d7))/0x6)+parseInt(_0xaf979a(0x1cc))/0x7*(-parseInt(_0xaf979a(0x20a))/0x8)+parseInt(_0xaf979a(0x1ec))/0x9+parseInt(_0xaf979a(0x1cb))/0xa*(-parseInt(_0xaf979a(0x1e4))/0xb);if(_0x14eeff===_0x27bce2)break;else _0x5eaf04['push'](_0x5eaf04['shift']());}catch(_0x349bad){_0x5eaf04['push'](_0x5eaf04['shift']());}}}(a64_0x1c3c,0x7c366));const a64_0x5f29b1=(function(){const _0x4aa0cd=a64_0x1d50,_0x1cbcfe={'swvsL':function(_0x5dce84,_0x744ae3){return _0x5dce84(_0x744ae3);},'wGRPf':function(_0x337a36,_0x56eb24){return _0x337a36(_0x56eb24);},'BfiPI':function(_0x4a7225,_0x105ee3){return _0x4a7225!==_0x105ee3;},'LyEVF':_0x4aa0cd(0x1e3),'MrLBq':function(_0x56879b,_0x27942a){return _0x56879b===_0x27942a;}};let _0xace2a4=!![];return function(_0x239218,_0xe00c5b){const _0x4ee9b3=_0x4aa0cd;if(_0x1cbcfe[_0x4ee9b3(0x1c7)](_0x4ee9b3(0x1c3),_0x4ee9b3(0x201)))return _0x1cbcfe[_0x4ee9b3(0x1f7)](_0x103ded,_0x1199b4+'\x20is\x20already\x20disabled');else{const _0x16a3e5=_0xace2a4?function(){const _0x1b69aa=_0x4ee9b3,_0x358edd={'Iwvqx':function(_0x4591fe,_0x3c0836){return _0x1cbcfe['wGRPf'](_0x4591fe,_0x3c0836);}};if(_0x1cbcfe['BfiPI']('TVXMR',_0x1cbcfe[_0x1b69aa(0x200)]))return _0x358edd[_0x1b69aa(0x212)](_0x40f0cb,_0x1b69aa(0x209));else{if(_0xe00c5b){const _0x253e1d=_0xe00c5b['apply'](_0x239218,arguments);return _0xe00c5b=null,_0x253e1d;}}}:function(){};return _0xace2a4=![],_0x16a3e5;}};}()),a64_0x3e8c72=a64_0x5f29b1(this,function(){const _0x1c4d33=a64_0x1d50;return a64_0x3e8c72[_0x1c4d33(0x1fe)]()['search'](_0x1c4d33(0x1f4))[_0x1c4d33(0x1fe)]()['constructor'](a64_0x3e8c72)[_0x1c4d33(0x1c4)](_0x1c4d33(0x1f4));});a64_0x3e8c72();const NodeCache=require('node-cache'),initializeDb=require('../../bdd/_index'),{zokou}=require(a64_0x82bfcd(0x20e));function a64_0x1d50(_0x471bd6,_0x45b7b1){const _0x58db45=a64_0x1c3c();return a64_0x1d50=function(_0x3e8c72,_0x5f29b1){_0x3e8c72=_0x3e8c72-0x1c2;let _0x1c3c8e=_0x58db45[_0x3e8c72];if(a64_0x1d50['arsUZG']===undefined){var _0x1d5057=function(_0x3d3ebe){const _0x9108fd='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4039c5='',_0x6945c7='',_0x526019=_0x4039c5+_0x1d5057;for(let _0x810bd0=0x0,_0xf43a27,_0x5a8895,_0x3f6b94=0x0;_0x5a8895=_0x3d3ebe['charAt'](_0x3f6b94++);~_0x5a8895&&(_0xf43a27=_0x810bd0%0x4?_0xf43a27*0x40+_0x5a8895:_0x5a8895,_0x810bd0++%0x4)?_0x4039c5+=_0x526019['charCodeAt'](_0x3f6b94+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0xf43a27>>(-0x2*_0x810bd0&0x6)):_0x810bd0:0x0){_0x5a8895=_0x9108fd['indexOf'](_0x5a8895);}for(let _0x5646d2=0x0,_0x311679=_0x4039c5['length'];_0x5646d2<_0x311679;_0x5646d2++){_0x6945c7+='%'+('00'+_0x4039c5['charCodeAt'](_0x5646d2)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x6945c7);};a64_0x1d50['nUjMZB']=_0x1d5057,_0x471bd6=arguments,a64_0x1d50['arsUZG']=!![];}const _0x404211=_0x58db45[0x0],_0xece4c=_0x3e8c72+_0x404211,_0x134448=_0x471bd6[_0xece4c];if(!_0x134448){const _0xfa1189=function(_0x577d7d){this['MbRqTB']=_0x577d7d,this['mZAqRl']=[0x1,0x0,0x0],this['RgWLmT']=function(){return'newState';},this['fCgnpz']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['FjXufl']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xfa1189['prototype']['mdupWc']=function(){const _0x3a7c7e=new RegExp(this['fCgnpz']+this['FjXufl']),_0x5037fc=_0x3a7c7e['test'](this['RgWLmT']['toString']())?--this['mZAqRl'][0x1]:--this['mZAqRl'][0x0];return this['RraVjG'](_0x5037fc);},_0xfa1189['prototype']['RraVjG']=function(_0x419d26){if(!Boolean(~_0x419d26))return _0x419d26;return this['fyPQEt'](this['MbRqTB']);},_0xfa1189['prototype']['fyPQEt']=function(_0x52e2a5){for(let _0x5df1bb=0x0,_0x4721f1=this['mZAqRl']['length'];_0x5df1bb<_0x4721f1;_0x5df1bb++){this['mZAqRl']['push'](Math['round'](Math['random']())),_0x4721f1=this['mZAqRl']['length'];}return _0x52e2a5(this['mZAqRl'][0x0]);},new _0xfa1189(a64_0x1d50)['mdupWc'](),_0x1c3c8e=a64_0x1d50['nUjMZB'](_0x1c3c8e),_0x471bd6[_0xece4c]=_0x1c3c8e;}else _0x1c3c8e=_0x134448;return _0x1c3c8e;},a64_0x1d50(_0x471bd6,_0x45b7b1);}class EventStateManager{#tableName;#db=initializeDb();['STATES']={'enabled':'on','disabled':a64_0x82bfcd(0x20d)};[a64_0x82bfcd(0x1f5)]={'remove':a64_0x82bfcd(0x1f2),'delete':a64_0x82bfcd(0x211),'warn':a64_0x82bfcd(0x1e2)};#defaultAction=this['ACTIONS'][a64_0x82bfcd(0x1f2)];#defaultState=this['STATES'][a64_0x82bfcd(0x1e9)];#cache;constructor(_0x57a76e,_0xd06cf6=new NodeCache()){this.#tableName=_0x57a76e,this.#cache=_0xd06cf6,this.#createTable();}#createTable(){const _0x1026b8=a64_0x82bfcd;this.#db[_0x1026b8(0x1ed)](_0x1026b8(0x1cf)+this.#tableName+_0x1026b8(0x1e8)+this.#defaultState+_0x1026b8(0x1eb)+this.#defaultAction+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20\x20\x20')[_0x1026b8(0x1f3)]();}#addOrUpdateJid(_0x4a1ac1,_0x31f923=this.#defaultState){const _0x29b676=a64_0x82bfcd;this.#db[_0x29b676(0x1ed)](_0x29b676(0x1ee)+this.#tableName+'\x20(jid,\x20etat)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(jid)\x20DO\x20UPDATE\x20SET\x20etat\x20=\x20excluded.etat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x29b676(0x1f3)](_0x4a1ac1,_0x31f923);const _0x2b9e1f=this.#cache[_0x29b676(0x1ff)](_0x4a1ac1)||{};this.#cache[_0x29b676(0x1ce)](_0x4a1ac1,{..._0x2b9e1f,'etat':_0x31f923});}#updateJidAction(_0x38649e,_0x4df431=this.#defaultAction){const _0x3abffd=a64_0x82bfcd;try{if('TXTZy'!==_0x3abffd(0x1f1)){const _0x2bbca9=_0x167662[_0x3abffd(0x1dd)](_0xae8659,arguments);return _0x5abc27=null,_0x2bbca9;}else{this.#db['prepare'](_0x3abffd(0x202)+this.#tableName+'\x20(jid,\x20action)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(jid)\x20DO\x20UPDATE\x20SET\x20action\x20=\x20excluded.action;\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3abffd(0x1f3)](_0x38649e,_0x4df431);const _0x4b86c8=this.#cache['get'](_0x38649e)||{};this.#cache[_0x3abffd(0x1ce)](_0x38649e,{..._0x4b86c8,'action':_0x4df431}),console['log']('Jid\x20'+_0x38649e+'\x20updated\x20with\x20action\x20'+_0x4df431);}}catch(_0x503f20){console[_0x3abffd(0x1d9)]('Error\x20updating\x20jid\x20'+_0x38649e+_0x3abffd(0x208)+_0x4df431+':',_0x503f20);throw _0x503f20;}}[a64_0x82bfcd(0x1fb)](_0x30d06a){const _0x5a0351=a64_0x82bfcd,_0x2d1425={'NwyDX':function(_0x4d87f1,_0x316363){return _0x4d87f1!==_0x316363;},'bAoqR':function(_0x1a8da8,_0x1d0c90){return _0x1a8da8===_0x1d0c90;}};try{const _0x1a5d69=this.#cache[_0x5a0351(0x1ff)](_0x30d06a);if(_0x2d1425['NwyDX'](_0x1a5d69?.[_0x5a0351(0x205)],undefined))return _0x1a5d69['etat']!==this.#defaultState;const _0x24d436=this.#db[_0x5a0351(0x1ed)](_0x5a0351(0x210)+this.#tableName+_0x5a0351(0x206))[_0x5a0351(0x1ff)](_0x30d06a);if(_0x24d436){if(_0x2d1425[_0x5a0351(0x1df)](_0x5a0351(0x1f8),_0x5a0351(0x1e7))){const _0x19c3ab=_0x5646d2?function(){const _0x50d1ec=_0x5a0351;if(_0x419d26){const _0xbd526d=_0x8989ed[_0x50d1ec(0x1dd)](_0xe63ad4,arguments);return _0x4146bc=null,_0xbd526d;}}:function(){};return _0x5037fc=![],_0x19c3ab;}else return this.#cache[_0x5a0351(0x1ce)](_0x30d06a,{...this.#cache['get'](_0x30d06a)||{},'etat':_0x24d436['etat']}),_0x24d436['etat']!==this.#defaultState;}return![];}catch(_0x58576b){return console[_0x5a0351(0x1d9)](_0x5a0351(0x20b)+_0x30d06a+':',_0x58576b),![];}}[a64_0x82bfcd(0x1de)](_0x13def4){const _0x202788=a64_0x82bfcd,_0xae8b97={'fBVXm':function(_0x33862e,_0x1635a5){return _0x33862e(_0x1635a5);},'NnyqJ':'FZOWS'};try{if(_0x202788(0x1ca)===_0xae8b97['NnyqJ']){const _0x2d16e4=this.#cache[_0x202788(0x1ff)](_0x13def4);if(_0x2d16e4?.[_0x202788(0x1c8)])return _0x2d16e4[_0x202788(0x1c8)];const _0x4f3a5c=this.#db[_0x202788(0x1ed)](_0x202788(0x1ea)+this.#tableName+_0x202788(0x206))[_0x202788(0x1ff)](_0x13def4);if(_0x4f3a5c)return this.#cache[_0x202788(0x1ce)](_0x13def4,{...this.#cache[_0x202788(0x1ff)](_0x13def4)||{},'action':_0x4f3a5c[_0x202788(0x1c8)]}),_0x4f3a5c['action'];return this.#defaultAction;}else return _0xae8b97['fBVXm'](_0x5a0b06,'The\x20action\x20'+_0x204ec2+'\x20is\x20not\x20valid.\x20Valid\x20actions\x20are:\x20'+_0x514b25[_0x202788(0x1d2)](this[_0x202788(0x1f5)])[_0x202788(0x1fd)](',\x20'));}catch(_0x49ad87){console['error'](_0x202788(0x1c6)+_0x13def4+':',_0x49ad87);throw _0x49ad87;}}[a64_0x82bfcd(0x207)](_0x1350f7){const _0xf7e6b8=a64_0x82bfcd,_0x56e61e={'AcrSx':'This\x20command\x20is\x20only\x20available\x20for\x20groups','iHvYc':function(_0x387050,_0x1d15e5){return _0x387050(_0x1d15e5);},'xfUZC':function(_0x1a732b,_0x1010dc){return _0x1a732b==_0x1010dc;},'tRoeW':'action/','tsEXs':function(_0x4cce3e,_0x2de57b,_0xe7d076){return _0x4cce3e(_0x2de57b,_0xe7d076);}},{nomCom:_0x3f78d8,categorie:_0x1b24ff,desc:_0x4f0512,alias:_0x32b49b,reaction:_0x54b540}=_0x1350f7;_0x56e61e[_0xf7e6b8(0x203)](zokou,{'nomCom':_0x3f78d8,'categorie':_0x1b24ff,'reaction':_0x54b540,'desc':_0x4f0512,'alias':_0x32b49b},async(_0x1a4a1a,_0x32a566,_0x39d442)=>{const _0x66927b=_0xf7e6b8,{verifGroupe:_0x310a7f,verifAdmin:_0x4f1591,ms:_0x35e91b,arg:_0xa9bc43,superUser:_0x31d03e,repondre:_0x3f5909}=_0x39d442;if(!_0x310a7f)return _0x3f5909(_0x56e61e[_0x66927b(0x1d4)]);if(!_0x31d03e&&!_0x4f1591)return _0x56e61e[_0x66927b(0x1c2)](_0x3f5909,_0x66927b(0x209));try{const _0x36a68a='\x0a'+_0x3f78d8+'\x20'+this['STATES'][_0x66927b(0x1d3)]+_0x66927b(0x1f9)+_0x3f78d8+'\x20'+this[_0x66927b(0x1c9)][_0x66927b(0x1e9)]+_0x66927b(0x1dc)+_0x3f78d8+_0x66927b(0x1d0)+this[_0x66927b(0x1f5)][_0x66927b(0x1f2)]+':\x20to\x20change\x20the\x20action\x20to\x20'+this['ACTIONS'][_0x66927b(0x1f2)]+'\x0a'+_0x3f78d8+'\x20action/'+this[_0x66927b(0x1f5)][_0x66927b(0x211)]+':\x20to\x20change\x20the\x20action\x20to\x20'+this['ACTIONS'][_0x66927b(0x211)]+'\x0a'+_0x3f78d8+_0x66927b(0x1d0)+this[_0x66927b(0x1f5)]['warn']+':\x20to\x20change\x20the\x20action\x20to\x20'+this['ACTIONS'][_0x66927b(0x1e2)]+'\x0a'+_0x3f78d8+'\x20'+this['ACTIONS'][_0x66927b(0x1f2)]+'\x20'+this[_0x66927b(0x1c9)][_0x66927b(0x1d3)]+':\x20to\x20enable\x20and\x20set\x20the\x20action\x20to\x20remove';if(!_0xa9bc43||!_0xa9bc43[0x0]||_0x56e61e['xfUZC'](_0xa9bc43[_0x66927b(0x1fd)]('')['trim'](),''))return _0x3f5909(_0x36a68a);const _0x37ff5e=_0xa9bc43[0x0]['toLowerCase']();if(_0x37ff5e==this['STATES']['enabled']){if(this[_0x66927b(0x1fb)](_0x1a4a1a))return _0x3f5909(_0x3f78d8+'\x20is\x20already\x20enabled');return this.#addOrUpdateJid(_0x1a4a1a,_0x37ff5e),_0x3f5909(_0x3f78d8+'\x20is\x20now\x20enabled');}else{if(_0x56e61e['xfUZC'](_0x37ff5e,this['STATES']['disabled'])){if(!this['enabledForJid'](_0x1a4a1a))return _0x3f5909(_0x3f78d8+_0x66927b(0x1d5));return this.#addOrUpdateJid(_0x1a4a1a,_0x37ff5e),_0x3f5909(_0x3f78d8+_0x66927b(0x1e6));}else{if(_0x37ff5e[_0x66927b(0x204)](_0x56e61e[_0x66927b(0x1cd)])){const _0x3ba85e=_0x37ff5e[_0x66927b(0x1e0)]('/')[0x1][_0x66927b(0x1f6)]()['toLowerCase']();if(!Object['values'](this['ACTIONS'])[_0x66927b(0x1ef)](_0x3ba85e))return _0x3f5909(_0x66927b(0x20c)+_0x3ba85e+_0x66927b(0x1da)+Object['values'](this[_0x66927b(0x1f5)])['join'](',\x20'));return this.#updateJidAction(_0x1a4a1a,_0x3ba85e),_0x3f5909(_0x66927b(0x1fa)+_0x3f78d8+_0x66927b(0x1e5)+_0x3ba85e);}else return _0x3f5909(_0x36a68a);}}}catch(_0x5b217e){return console['log'](_0x66927b(0x1d1)+_0x3f78d8+_0x66927b(0x1f0)+_0x1a4a1a+':\x20'+_0x5b217e),_0x3f5909(_0x66927b(0x1db));}});}}module[a64_0x82bfcd(0x20f)]=EventStateManager;